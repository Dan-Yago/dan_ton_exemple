TargetMan progressive - tm_progressive.py
------------------------------------------
Попытка на данных воссоздать ситуацию, когда таргетмен, будучи спиной к воротам, скидывает мяч на партнера, который расположен лицом к воротам. После чего следует продвигающая передача. 

TargetMan progressive - назовем эту метрику так.

Если Игрок отдает точную передачу в определенную зону (полукруг назад с радиусом 15 метров и полукруг вперед с радиусом 5 метров) и если в течении 5 секунд, после этой передачи, команда Игрока делает точную продвигающую передачу, то это действия засчитывается, как TargetMan progressive (TmProg).

<img width="270" height="400" alt="tg_prog" src="https://github.com/user-attachments/assets/d860e288-17ef-4d51-8de4-cf8696b96a92" />

Передачи в первой трети поля от Игрока - не учитываются. Также не учитываются передачи с центра поля (с координаты 50-50).
Логика в коде: если пас соотвествует нашей фигуре, то просматриваем след. 10 пасов команды и если в течении 5 секунд после паса нашего нападающего есть продвигающая передача, то засчитываем TmProg.

Результат по Бундеслиге tmprog_bund.xlsx

<img width="300" height="600" alt="image" src="https://github.com/user-attachments/assets/282d6162-60bc-42f1-ac71-03d8fc3fefee" />

<img width="200" height="400" alt="bundes_sesko" src="https://github.com/user-attachments/assets/54ab6e90-9b4d-4b11-85fe-29e41a013a7e" /> и топ 5 АПЛ <img width="200" height="400" alt="bundes_sesko" src="https://github.com/user-attachments/assets/a4f2bdb4-a728-4baa-a05c-d8a002144f2e" />





Проблема psXG при оценивании будущего вратаря  - gk_5ses.py
-----------------------------------------------------------
17 случаев, когда оверпервоманс (5+ по psXG-goals)  меняется на число меньше 0.
В 18 случаев остается больше 0.

Лишь 3 случая, когда вратарь совершает два оверпервоманса подряд (Chevalier, Gazzaniga и Samba).

<img width="1000" height="750" alt="image" src="https://github.com/user-attachments/assets/a94fac7d-58e6-494a-9712-499420abf0b9" />
На графике синие точки - сезон с оверперфомансом, красные - следующий сезон.

17 на 18 - выглядит, как бросок монетки.  Поэтому при оценки потенциального вратаря надо копать глубже, чем psXG за прошедший сезон. 
По хорошему побольше бы данных, но с текущими данными пока результат такой.
<img width="356" height="911" alt="image" src="https://github.com/user-attachments/assets/28a919d3-980d-4fe4-8910-a97f47a77833" />


Данные: последние 5 сезонов в топ-5 лигах.
Таблица (в папке Data): любой вратарь сделавший оверпервоманс попадает в таблицу, если игрок покидает топ-5 лиги, то стоит прочерк.
Также если игрок сменил клуб зимой, то данные за сезон не суммируются (т.е. игрок с +3 и +3, за разные команды, не попадает под наш взор). Также в таблице есть данные по проценту предотвращенных кроссов.

Вратарь для Man United на основе шотстопинга и предотврощения навесов - munewgk_final.py
----------------------------------------
Фильтр: в каждом из последних 2х сезонов должно быть: более 900 минут, PSxG+/- >= 0, предовтращенные кроссы >=7% (т.к. Ман Юнайтед уязвим к кроссам, матч с Брентфордом яркий пример)
Также дополнительно взят процент успешных длинных передач (т.к. у Аморима вратарь отдает либо простой пас ближнему крайнему центральному защитнику или же играет длинно в разряженное пространство впереди).

<img width="756" height="517" alt="gk_manutd" src="https://github.com/user-attachments/assets/f1a5fcaf-ba54-4a65-87c3-e2af6389b820" />

Данные за конец апреля. Также данные в чуть разном виде (что сильно отразилось на чистоте/длине кода)

Далее, по сути, примеры некоторых базовых визуализаций
-----------------
hm_sesko_prog_rec.py - разве что хоть как-то интересен из-за логики данных хоть немного интересен, ибо пришлось проверять следующее событие команды на имя игрока, т.к. изначальные данные без адресата передачи. Также часть пасов могла быть в конце тайма из-за чего невозможно из данных узнать адресата.

<img width="250" height="400" alt="Sesko_pass_rec" src="https://github.com/user-attachments/assets/608b6e8f-b3ac-48a5-956a-bbbd3abf89df" />

fin_prog.py - прогрессивные действия в финале ЛЧ. Отображение фамилий игроков возле точки едут по кругу против часовой стрелки, если их 5 и более, то идут уже строго вниз.

<img width="400" height="300" alt="fin_prog py" src="https://github.com/user-attachments/assets/f71e21fc-b7e7-4db3-b7e3-694b0599a8a4" />


pass_map.py - передачи в опасный радиус от Мбемо, процент успеха и тепловая карта направления

<img width="300" height="400" alt="image" src="https://github.com/user-attachments/assets/1852629b-a760-49c6-9e97-38893f8cb053" /> <img width="300" height="400" alt="hm" src="https://github.com/user-attachments/assets/d201bf44-8478-4877-851e-5618085a1e62" />


xg_form_mu.py - форма Ман Юнайтед в прошедшем сезоне, хорошо видны спады и взлеты. Сглаживание LOWESS

<img width="500" height="250" alt="Manchester United_xg_form_mu py" src="https://github.com/user-attachments/assets/2271a263-e337-4e9e-ba9c-7848636dd340" />

и бонус, инфографика, где по сути на графике задействуются 4 параметра (x,y,цвет, размер)

<img width="500" height="250" alt="Manchester United_xg_form_mu py" src="https://github.com/user-attachments/assets/32615071-23b3-4629-9274-f11877ccf697" />







